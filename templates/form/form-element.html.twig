{#
/**
 * @file
 * Theme override for a form element wrapper.
 */
#}
{%
  set classes = [
  'mb-5 last:mb-0 max-w-3xl form-item',
  'form-item-type-' ~ type,
  disabled == 'disabled' ? 'opacity-50' : '',
  errors ? 'form-item--error' : '',
]
%}

<div{{ attributes.addClass(classes) }}>
  {# Label before #}
  {% if label_display == 'before' %}
    {{ label }}
  {% endif %}

  {# Prefix #}
  {% if prefix %}
    <span class="form-element-prefix text-sm text-gray-600 mb-2 block">
      {{ prefix }}
    </span>
  {% endif %}

  {# Main input/field #}
  {{ children }}

  {# Suffix #}
  {% if suffix %}
    <span class="form-element-suffix text-sm text-gray-600 mt-2 block">
      {{ suffix }}
    </span>
  {% endif %}

  {# Label after #}
  {% if label_display == 'after' %}
    {{ label }}
  {% endif %}

  {# Errors #}
  {% if errors %}
    <div class="mt-2 p-3 text-sm text-red-600 bg-red-50 border border-red-300 rounded-lg">
      {{ errors }}
    </div>
  {% endif %}

  {# Description #}
  {% if description.content %}
    <div{{ description.attributes.addClass('mt-2 text-sm text-gray-600 leading-relaxed') }}>
      {{ description.content }}
    </div>
  {% endif %}
</div>
